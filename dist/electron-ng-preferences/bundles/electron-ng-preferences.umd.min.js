!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("util"),require("rxjs/operators"),require("rxjs"),require("@angular/core"),require("@fortawesome/angular-fontawesome"),require("@fortawesome/fontawesome-svg-core"),require("@fortawesome/free-solid-svg-icons"),require("@angular/common"),require("@angular/forms"),require("ngx-ui-switch")):"function"==typeof define&&define.amd?define("electron-ng-preferences",["exports","util","rxjs/operators","rxjs","@angular/core","@fortawesome/angular-fontawesome","@fortawesome/fontawesome-svg-core","@fortawesome/free-solid-svg-icons","@angular/common","@angular/forms","ngx-ui-switch"],n):n(e["electron-ng-preferences"]={},e.util,e.rxjs.operators,e.rxjs,e.ng.core,e.angularFontawesome,e.fontawesomeSvgCore,e.freeSolidSvgIcons,e.ng.common,e.ng.forms,e.ngxUiSwitch)}(this,function(e,n,f,p,t,o,r,i,s,u,a){"use strict";var l=function(){function e(){this.isElectron()&&(this.ipcRenderer=window.require("electron").ipcRenderer,this.webFrame=window.require("electron").webFrame,this.remote=window.require("electron").remote,this.childProcess=window.require("child_process"),this.fs=window.require("fs"))}return e.prototype.isElectron=function(){return window&&window.process&&window.process.type},e.prototype.getOSLocale=function(){if(this.isElectron()&&this.remote&&this.remote.app)return this.remote.app.getLocale()},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),c=function(){function e(e){var n=this;this.electronService=e,this.options=this.electronService.ipcRenderer.sendSync("getPreferenceOptions"),this.preferences=this.electronService.ipcRenderer.sendSync("getPreferences"),this.defaults=this.electronService.ipcRenderer.sendSync("getDefaults"),this.options.sections=this.options.sections.filter(function(e){return!e.enabled}),this.options.sections.forEach(function(e){n.preferences[e.name]||(n.preferences[e.name]={})}),0<this.options.sections.length&&(this.activeSection=this.options.sections[0]),console.log("electron-ng-preferences construct",this.options,this.preferences,this.defaults,this.activeSection)}return e.prototype.ngOnInit=function(){console.log("electron-ng-preferences init",this.options,this.preferences,this.defaults,this.activeSection)},e.prototype.sectionChanged=function(e){this.activeSection=e},e.decorators=[{type:t.Component,args:[{selector:"electron-ng-preferences",template:'<div class="preference-window">\r\n<sidebar\r\n  [activeSection]="activeSection"\r\n  [options]="options"\r\n  [preferences]="preferences"\r\n  [defaults]="defaults"\r\n  (sectionChange)="sectionChanged($event)"\r\n></sidebar>\r\n<main\r\n  [activeSection]="activeSection"\r\n  [options]="options"\r\n  [preferences]="preferences"\r\n  [defaults]="defaults"\r\n></main>\r\n</div>',styles:["main{height:100%;min-height:100%;width:600px;min-width:600px;max-width:600px;background-color:#e7e7e7;font-size:14px;overflow:hidden;cursor:default;overflow-x:hidden;overflow-y:auto}sidebar{height:100%;min-height:100%;width:199px;min-width:199px;max-width:199px;border-right:1px solid #b8b8b9;display:flex;flex-direction:column;justify-content:flex-start;cursor:default;overflow-x:hidden;overflow-y:auto;background-color:#fff}.preference-window{height:100vh;width:100vw;display:flex}"]}]}],e.ctorParameters=function(){return[{type:l}]},e}(),d=function(){function e(){this.showMessage=!1}return e.prototype.ngOnChanges=function(e){this.manageMessage(e.message.currentValue)},e.prototype.manageMessage=function(e){var n=this;e&&e.message&&0<e.message.length&&(this.message=e,this.showMessage=!0,setTimeout(function(){n.showMessage=!1,n.message=null},8e3))},e.decorators=[{type:t.Component,args:[{selector:"flash-message",template:'\n    <div\n      class="flashMessage animateCss"\n      [ngClass]="{\n        showFlashmessage: showMessage,\n        flashSuccess: message?.level === \'success\',\n        flashError: message?.level === \'error\'\n      }"\n      [hidden]="!showMessage"\n    >\n      <span>{{ message?.message }}</span>\n    </div>\n  ',styles:[".flashMessage{text-align:center;border:none;padding:5px 10px;color:#fff;font-size:14px;display:inline;margin-right:15px}.flashMessage.flashSuccess{background:#025f2b}.flashMessage.flashError{background:#ad0909}.animateCss{transition:opacity 1s ease-in-out,margin-left .5s ease-in-out;opacity:0}.showFlashmessage{opacity:2}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={message:[{type:t.Input}]},e}(),g="success",m="error",h=function(){function e(e){this.electronService=e,this.rxIpc=window.require("rx-ipc-electron-six/lib/renderer")["default"],console.log("ValidationService",this.rxIpc)}return e.prototype.validateAsync=function(e,n){return this.rxIpc.runCommand("runObservableValidator",null,e,n)},e.prototype.actionAsync=function(e,n){return this.rxIpc.runCommand("runObservableAction",null,e,n)},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:l}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(l))},token:e,providedIn:"root"}),e}(),v=function(){function e(e,n){this.electronService=e,this.validationService=n,this.field={}}return e.prototype.runAction=function(){var n=this,e=this.field.action;"$"===e.substr(-1)?this.validationService.actionAsync(e,this.form.value).subscribe(function(e){n.message=e}):this.message=this.electronService.ipcRenderer.sendSync("runAction",e,this.form.value)},e.decorators=[{type:t.Component,args:[{selector:"btnfield",template:'\n    <div class="field field-button">\n      <div class="btn" (click)="runAction()">\n        {{ field.label }}\n      </div>\n      <span class="message" *ngIf="message">{{ message }}</span>\n      <span class="help" *ngIf="field.help">{{ field.help }}</span>\n    </div>\n  '}]}],e.ctorParameters=function(){return[{type:l},{type:h}]},e.propDecorators={field:[{type:t.Input}],form:[{type:t.Input}]},e}(),b=function(){function e(){this.field={}}return Object.defineProperty(e.prototype,"control",{get:function(){return this.form.controls[this.field.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.form.controls[this.field.name].value},set:function(e){this.form.controls[this.field.name].setValue(e)},enumerable:!0,configurable:!0}),e.prototype.onChange=function(e){this.value=e},e.prototype.ngOnInit=function(){n.isBoolean(this.value)||(this.value=!1)},e.decorators=[{type:t.Component,args:[{selector:"boolean",template:'\n    <div class="field field-boolean">\n      <div class="field-label">{{ field.label }}</div>\n      <ui-switch [checked]="value" (change)="onChange($event)"></ui-switch>\n      <span class="error-message" *ngIf="control.errors?.required"\n        >Please fill out this field.</span\n      ><span class="waiting-message" *ngIf="control.status === \'PENDING\'">\n        Validating...\n      </span>\n      <span\n        class="error-message"\n        *ngIf="control.errors?.dynamicError && field.errorMessage"\n        >{{ field.errorMessage }}</span\n      >\n      <span class="help" *ngIf="field.help">{{ field.help }}</span>\n    </div>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:t.Input}],form:[{type:t.Input}]},e}(),y=function(){function e(){this.field={}}return e.decorators=[{type:t.Component,args:[{selector:"message",template:'\n    <div class="field field-message">\n      <div class="field-heading" *ngIf="field.heading">\n        {{ field.heading }}\n      </div>\n      <div class="field-content" [innerHTML]="field.content"></div>\n    </div>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:t.Input}],form:[{type:t.Input}]},e}(),x=function(){function e(){this.field={}}return Object.defineProperty(e.prototype,"value",{get:function(){return this.form.controls[this.field.name].value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form.controls[this.field.name]},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Component,args:[{selector:"dropdown",template:'\n    <div [formGroup]="form">\n      <div class="field field-dropdown">\n        <div class="field-label">{{ field.label }}</div>\n        <select [id]="field.name" [formControlName]="field.name">\n          <option value="">-- Select One --</option>\n          <option *ngFor="let opt of field.options" [value]="opt.value">{{\n            opt.label\n          }}</option>\n        </select>\n        <span class="error-message" *ngIf="control.errors?.required"\n          >Please fill out this field.</span\n        ><span class="waiting-message" *ngIf="control.status === \'PENDING\'">\n        Validating...\n      </span>\n        <span class="error-message" *ngIf="control.errors?.dynamicError && field.errorMessage">{{\n          field.errorMessage\n        }}</span>\n        <span class="help" *ngIf="field.help">{{ field.help }}</span>\n      </div>\n    </div>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:t.Input}],form:[{type:t.Input}]},e}(),w=function(){function e(){this.field={}}return Object.defineProperty(e.prototype,"value",{get:function(){return this.form.controls[this.field.name].value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form.controls[this.field.name]},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Component,args:[{selector:"radio",template:'\n    <div [formGroup]="form">\n      <div class="field field-radio">\n        <div class="field-label">{{ field.label }}</div>\n        <div class="radio-option" *ngFor="let opt of field.options">\n          <input\n            type="radio"\n            id="{{ field.name }}"\n            [value]="opt.value"\n            [formControlName]="field.name"\n          />\n          <label>{{ opt.label }}</label>\n        </div>\n        <span class="error-message" *ngIf="control.errors?.required"\n          >Please fill out this field.</span\n        ><span class="waiting-message" *ngIf="control.status === \'PENDING\'">\n        Validating...\n      </span>\n        <span class="error-message" *ngIf="control.errors?.dynamicError && field.errorMessage">{{\n          field.errorMessage\n        }}</span>\n        <span class="help" *ngIf="field.help">{{ field.help }}</span>\n      </div>\n    </div>\n  '}]}],e.propDecorators={field:[{type:t.Input}],form:[{type:t.Input}]},e}(),I=function(){function e(){this.field={}}return Object.defineProperty(e.prototype,"isValid",{get:function(){return this.form.controls[this.field.name].valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.form.controls[this.field.name].dirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.form.controls[this.field.name].value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form.controls[this.field.name]},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Component,args:[{selector:"textbox",template:'\n    <div [formGroup]="form">\n      <div class="field field-text">\n        <div class="field-label">{{ field.label }}</div>\n        <input\n          [attr.type]="field.type"\n          class="form-control"\n          [id]="field.name"\n          [name]="field.name"\n          [formControlName]="field.name"\n          [readonly]="field.readonly"\n          [ngClass]="{ \'field-readonly\': field.readonly }"\n        />\n        <span class="error-message" *ngIf="control.errors?.required"\n          >Please fill out this field.</span\n        >\n        <span class="waiting-message" *ngIf="control.status === \'PENDING\'">\n          Validating...\n        </span>\n        <span\n          class="error-message"\n          *ngIf="control.errors?.dynamicError && field.errorMessage"\n          >{{ field.errorMessage }}</span\n        >\n        <span class="help" *ngIf="field.help">{{ field.help }}</span>\n      </div>\n    </div>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={field:[{type:t.Input}],form:[{type:t.Input}]},e}(),S=function(){function e(e){this.electronService=e,this.field={},this.btnLabel="Choose a Folder",this.dialog=this.electronService.remote.dialog}return Object.defineProperty(e.prototype,"isValid",{get:function(){return this.form.controls[this.field.name].valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.form.controls[this.field.name].dirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.form.controls[this.field.name].value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form.controls[this.field.name]},enumerable:!0,configurable:!0}),e.prototype.chooseFolder=function(){var e=this.dialog.showOpenDialog({properties:["openDirectory"]});e&&this.form.controls[this.field.name].setValue(e[0])},e.decorators=[{type:t.Component,args:[{selector:"directory",template:'\n    <div [formGroup]="form">\n      <div class="field field-directory">\n        <div class="field-label">{{ field.label }}</div>\n        <div class="value">Folder: {{ control?.value }}</div>\n        <div class="btn" (click)="chooseFolder()">\n          {{ btnLabel }}\n        </div>\n        <span class="error-message" *ngIf="control.errors?.required"\n          >Please fill out this field.</span\n        >\n        <span\n          class="error-message"\n          *ngIf="control.errors?.dynamicError && field.errorMessage"\n          >{{ field.errorMessage }}</span\n        >\n        <span class="waiting-message" *ngIf="control.status === \'PENDING\'">\n          Validating...\n        </span>\n        <span class="help" *ngIf="field.help">{{ field.help }}</span>\n        <input [formControlName]="field.name" type="hidden" />\n      </div>\n    </div>\n  '}]}],e.ctorParameters=function(){return[{type:l}]},e.propDecorators={field:[{type:t.Input}],form:[{type:t.Input}]},e}(),C=function(){function e(){this.field={}}return Object.defineProperty(e.prototype,"isValid",{get:function(){return this.form.controls[this.field.name].valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.form.controls[this.field.name].dirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.form.controls[this.field.name].value},set:function(e){this.form.controls[this.field.name].setValue(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form.controls[this.field.name]},enumerable:!0,configurable:!0}),e.prototype.onChecklistChange=function(e,n){n.checked=e,this.value=this.flattenValues(this.field.options)},e.prototype.flattenValues=function(e){return e.filter(function(e){return e.checked}).map(function(e){return e.value})},e.decorators=[{type:t.Component,args:[{selector:"checkbox",template:'\n    <div [formGroup]="form">\n      <div [formGroupName]="field.name" class="field field-checkbox">\n        <div class="field-label">{{ field.label }}</div>\n        <div class="checkbox-option" *ngFor="let opt of field.options">\n          <input\n            type="checkbox"\n            id="{{ field.name }}"\n            [checked]="opt.checked"\n            [value]="opt.value"\n            (change)="onChecklistChange($event.target.checked, opt)"\n          />\n          <label>{{ opt.label }}</label>\n        </div>\n        <span class="error-message" *ngIf="control.errors?.required"\n          >Please fill out this field.</span\n        ><span class="waiting-message" *ngIf="control.status === \'PENDING\'">\n          Validating...\n        </span>\n        <span\n          class="error-message"\n          *ngIf="control.errors?.dynamicError && field.errorMessage"\n          >{{ field.errorMessage }}</span\n        >\n        <span class="help" *ngIf="field.help">{{ field.help }}</span>\n      </div>\n    </div>\n  '}]}],e.propDecorators={field:[{type:t.Input}],form:[{type:t.Input}]},e}();var P=function(){function e(e,n,t){this.electronService=e,this.validationService=n,(this.cdRef=t).markForCheck()}return Object.defineProperty(e.prototype,"fields",{get:function(){return this.group.fields},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e,n,o=this;if(console.log("group.component",this.group),this.group&&this.group.fields){var s={},t=function(n){if("message"===n.type)return{value:void 0};var e=[],t=[];n.required&&e.push(u.Validators.required),n.validator&&("$"===n.validator.substr(-1)?(console.log("validator is observable",n.validator),t.push(function r(n,t,o){return function(e){return console.log("dynamicalidatorFn",o),e.valueChanges?e.valueChanges.pipe(f.debounceTime(300),f.distinctUntilChanged(),f.take(1),f.switchMap(function(e){return n.validateAsync(o,e)}),f.map(function(e){return console.log("dynamicalidatorFn resulted",e),e?null:{dynamicError:!0}},function(e){return{dynamicError:!0}}),f.catchError(function(){return null}),f.tap(function(e){return console.log("dynamicalidatorFn tapped",e)}),f.take(1),f.tap(function(){e.markAsTouched(),t.markForCheck()})):p.of(null)}}(a.validationService,a.cdRef,n.validator))):(console.log("validator is normal",n.validator),e.push(function i(t,o,r){return function(e){console.log("dynamicalidatorFn",r);var n=e.value;return t.ipcRenderer.sendSync("runValidator",r,n)?(o.markForCheck(),null):(o.markForCheck(),{dynamicError:!0})}}(a.electronService,a.cdRef,n.validator)))),"checkbox"===n.type&&n.options&&a.preferences[n.name]&&n.options.map(function(e){return e.checked=o.preferences[n.name].includes(e.value)}),n.fixedValue&&(a.preferences[n.name]=n.fixedValue),s[n.name]=new u.FormControl(a.preferences[n.name]||"",e,t),a.form.addControl(n.name,s[n.name])},a=this;try{for(var r=function c(e){var n="function"==typeof Symbol&&e[Symbol.iterator],t=0;return n?n.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}(this.group.fields),i=r.next();!i.done;i=r.next()){var l=t(i.value);if("object"==typeof l)return l.value}}catch(d){e={error:d}}finally{try{i&&!i.done&&(n=r["return"])&&n.call(r)}finally{if(e)throw e.error}}}this.cdRef.markForCheck()},e.decorators=[{type:t.Component,args:[{selector:"group",template:'<div class="group-label" *ngIf="group.label">{{ group.label }}</div>\n<div *ngFor="let field of fields">\n  <ng-container [ngSwitch]="field.type">\n    <textbox *ngSwitchCase="\'text\'" [field]="field" [form]="form"></textbox>\n    <dropdown\n      *ngSwitchCase="\'dropdown\'"\n      [field]="field"\n      [form]="form"\n    ></dropdown>\n    <checkbox\n      *ngSwitchCase="\'checkbox\'"\n      [field]="field"\n      [form]="form"\n    ></checkbox>\n    <radio *ngSwitchCase="\'radio\'" [field]="field" [form]="form"></radio>\n    <directory\n      *ngSwitchCase="\'directory\'"\n      [field]="field"\n      [form]="form"\n    ></directory>\n    <message *ngSwitchCase="\'message\'" [field]="field" [form]="form"></message>\n    <boolean *ngSwitchCase="\'boolean\'" [field]="field" [form]="form"></boolean>\n    <btnfield *ngSwitchCase="\'button\'" [field]="field" [form]="form"></btnfield>\n  </ng-container>\n</div>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,styles:["::ng-deep .group-label{font-size:16px;font-weight:700;text-transform:uppercase;border-bottom:1px dashed #000;margin-bottom:10px}::ng-deep .field{margin-bottom:20px}::ng-deep .field:last-child{margin-bottom:0}::ng-deep .field .field-label{border-bottom:1px dashed #ccc;margin-bottom:10px}::ng-deep .field .help{display:block;padding-top:5px;padding-bottom:5px;font-size:12px}::ng-deep .field .btn{display:inline-block;background-color:#d9dadb;color:#000;padding:5px;border-radius:0;margin-top:5px;border:1px solid rgba(0,0,0,.25)}::ng-deep .field .btn:hover{cursor:pointer;background-color:#a7a8a8}::ng-deep .field-text input{width:100%;font-size:14px;padding:4px;background:#fff;border:1px solid #dadada}::ng-deep .field-readonly{background:#d9dadb!important;border:1px solid #dadada!important}::ng-deep .field-dropdown select{width:100%;font-size:14px;padding:4px;background:#fff;border:1px solid #dadada}::ng-deep .field-button .message{display:block;padding-top:5px;padding-bottom:5px;font-size:12px}::ng-deep .field-message .field-heading{border-bottom:1px dashed #ccc;margin-bottom:10px}::ng-deep .error-message{display:block;padding-top:5px;padding-bottom:5px;font-size:12px;color:#8c0707}"]}]}],e.ctorParameters=function(){return[{type:l},{type:h},{type:t.ChangeDetectorRef}]},e.propDecorators={group:[{type:t.Input}],preferences:[{type:t.Input}],form:[{type:t.Input}],validationOn:[{type:t.Input}]},e}(),k=function(){function e(){this.sectionChange=new t.EventEmitter}return e.prototype.ngOnInit=function(){console.log("sidebar.component",this.preferences,this.options,this.defaults,this.activeSection)},e.prototype.selectSection=function(e){this.activeSection=e,this.sectionChange.emit(e)},e.prototype.onSave=function(){},e.decorators=[{type:t.Component,args:[{selector:"sidebar",template:'<div\n  class="sidebar-section"\n  *ngFor="let section of options?.sections"\n  [ngClass]="{ \'active\': activeSection?.name === section.name }"\n  (click)="selectSection(section)"\n>\n  <fa-icon\n    class="section-icon"\n    [icon]="[\'fas\', section.icon]"\n    [fixedWidth]="true"\n  ></fa-icon>\n  <span class="section-label">{{ section.label }}</span>\n</div>\n',styles:[".sidebar-section{height:40px;min-height:40px;max-height:40px;width:199px;min-width:199px;max-width:199px;overflow:hidden;padding:4px;display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.sidebar-section.active,.sidebar-section:hover{background-color:#f5f5f5}.sidebar-section .section-icon{margin-right:4px;width:30px;max-width:30px;min-width:30px}.sidebar-section .section-label{font-size:12px}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={activeSection:[{type:t.Input}],sectionChange:[{type:t.Output}],preferences:[{type:t.Input}],options:[{type:t.Input}],defaults:[{type:t.Input}]},e}(),O=function(){function e(e){this.electronService=e}return Object.defineProperty(e.prototype,"prefs",{get:function(){return this.preferences[this.activeSection.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeSectionForm",{get:function(){return this.form.get(this.activeSection.name)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){console.log("main.component->",this.preferences,this.options,this.defaults,this.activeSection);var n={};this.options.validationOn&&(n.updateOn=this.options.validationOn);var t={};this.options.sections.forEach(function(e){t[e.name]=new u.FormGroup({},n)}),this.form=new u.FormGroup(t,n),console.log("main.ocmponent form is",this.form,n)},e.prototype.save=function(){var n=this;if(console.log("save",this.form,this.form.valid,this.form.value),this.form.valid){console.log("form is valid");var e=this.form.value;console.log("values",e),this.showSavedMessage(),this.electronService.ipcRenderer.send("setPreferences",e)}else this.form.pending?this.form.statusChanges.subscribe(function(e){console.log("statusChanges form was pending and now is",e),"VALID"===e&&n.save()}):this.showErrorMessage()},e.prototype.showSavedMessage=function(){this.flashMessage={message:"Successfully saved.",level:g}},e.prototype.showErrorMessage=function(){this.flashMessage={message:"Form is not valid.",level:m}},e.prototype.onSubmit=function(e){return console.log("onsubmit",this.form.valid,this.form,this.form.value),this.save(),e.preventDefault(),!1},e.prototype.sectionForm=function(e){return this.form.get(e.name)},e.prototype.sectionPreferences=function(e){return this.preferences[e.name]},e.prototype.groupInActiveSelection=function(n){return!!(this.activeSection&&this.activeSection.form&&this.activeSection.form.groups&&this.activeSection.form.groups.find(function(e){return e.id===n.id}))},e.decorators=[{type:t.Component,args:[{selector:"main",template:'<form (ngSubmit)="onSubmit($event)" [formGroup]="form">\r\n  <div class="groups">\r\n    <ng-container *ngFor="let section of options?.sections">\r\n      <group\r\n        *ngFor="let group of section.form?.groups"\r\n        [group]="group"\r\n        [preferences]="sectionPreferences(section)"\r\n        [form]="sectionForm(section)"\r\n        [validationOn]="options.validationOn"\r\n        [ngClass]="{\r\n          \'visible-group\': groupInActiveSelection(group)\r\n        }"\r\n      ></group>\r\n    </ng-container>\r\n  </div>\r\n  <div class="bottom-bar">\r\n    <flash-message [message]="flashMessage"></flash-message>\r\n    <button type="submit" class="btn btn-primary">\r\n      Save\r\n    </button>\r\n  </div>\r\n</form>\r\n',styles:[".groups{height:calc(100vh - 40px);padding:10px;overflow:auto}group{display:none}.visible-group{display:block}.bottom-bar{padding:5px;text-align:right;background:#dcdcdc;border-top:1px solid #cecece}.bottom-bar button{background:rgba(2,95,43,.72);border:none;padding:5px 10px;font-size:14px;color:#fff;outline:0;transition:width 2s;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica,sans-serif}.bottom-bar button:hover{background:#000;border:none}"]}]}],e.ctorParameters=function(){return[{type:l}]},e.propDecorators={activeSection:[{type:t.Input}],preferences:[{type:t.Input}],options:[{type:t.Input}],defaults:[{type:t.Input}]},e}(),j=function(){function e(){r.library.add(i.fas)}return e.decorators=[{type:t.NgModule,args:[{declarations:[O,k,P,d,C,S,I,w,x,y,b,v,c],providers:[l,h],imports:[s.CommonModule,u.ReactiveFormsModule,o.FontAwesomeModule,a.UiSwitchModule],exports:[c]}]}],e.ctorParameters=function(){return[]},e}();e.ElectronNgPreferencesComponent=c,e.ElectronNgPreferencesModule=j,e.ɵf=d,e.ɵm=b,e.ɵn=v,e.ɵg=C,e.ɵh=S,e.ɵk=x,e.ɵl=y,e.ɵj=w,e.ɵi=I,e.ɵd=P,e.ɵb=O,e.ɵa=l,e.ɵe=h,e.ɵc=k,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=electron-ng-preferences.umd.min.js.map